{
  "hash": "637b7d8b1b11b99b8825def747ee7c0c",
  "result": {
    "markdown": "---\ntitle: \"OR Liquor County Sales Repository\"\nauthor: \"Rochelle Rafn\"\ndate: \"04/16/2023\"\ncategories: [code]\nformat: \n   html:\n     code-fold: true\n     code-summary: \"Show Code\"\n---\n\n\n\n\n#### Creating a function for a parameterized markdown\nThis function will replicate the report that I made in markdown based on the parameters I set. In this case, I created a table and visualization of the yearly sales for a county. All of the information the parameters are pulling from is listed below. The output file is in my next post.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(rmarkdown)\nlibrary(purrr)\n\ncounty_liquor_sales <- function(x) {\n  render(\"OR_County_Parameters.qmd\", \n         params = list(county = x), \n         output_file = paste0(\"/Users/rochellerafn/RStudio_Files/Data_Communication/CWD-Blog/posts/or-liquor-analysis-2/county_files/\",x,\".html\"))\n}\n\nor_county_sales <- read.csv(\"/Users/rochellerafn/RStudio_Files/Data_Communication/CWD-Blog/or_county_sales.csv\")\n\nor_county_sales <- or_county_sales %>%\n  select(-Month, -X) %>%\n  group_by(COUNTY, Year) %>%\n  rename(\"County\" = \"COUNTY\") %>%\n  summarize(sum(Total.Sales)) %>%\n  rename(\"Total.Sales\" = \"sum(Total.Sales)\")\n\nor_county_sales$COUNTY %>% map(., function(x) { county_liquor_sales(x)})\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nlist()\n```\n:::\n:::\n\n\n \n \n\n## County Liquor Sales\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(DT)\n\n\nor_county_sales <- read.csv(\"/Users/rochellerafn/RStudio_Files/Data_Communication/CWD-Blog/or_county_sales.csv\")\n\nor_county_sales <- or_county_sales %>%\n  select(-Month, -X) %>%\n  group_by(COUNTY, Year) %>%\n  rename(\"County\" = \"COUNTY\") %>%\n  summarize(sum(Total.Sales)) %>%\n  rename(\"Total.Sales\" = \"sum(Total.Sales)\")\n\ndatatable(or_county_sales)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"datatables html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-cdb3915d48165d4d7cd1\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-cdb3915d48165d4d7cd1\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"data\":[[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\",\"13\",\"14\",\"15\",\"16\",\"17\",\"18\",\"19\",\"20\",\"21\",\"22\",\"23\",\"24\",\"25\",\"26\",\"27\",\"28\",\"29\",\"30\",\"31\",\"32\",\"33\",\"34\",\"35\",\"36\",\"37\",\"38\",\"39\",\"40\",\"41\",\"42\",\"43\",\"44\",\"45\",\"46\",\"47\",\"48\",\"49\",\"50\",\"51\",\"52\",\"53\",\"54\",\"55\",\"56\",\"57\",\"58\",\"59\",\"60\",\"61\",\"62\",\"63\",\"64\",\"65\",\"66\",\"67\",\"68\",\"69\",\"70\",\"71\",\"72\",\"73\",\"74\",\"75\",\"76\",\"77\",\"78\",\"79\",\"80\",\"81\",\"82\",\"83\",\"84\",\"85\",\"86\",\"87\",\"88\",\"89\",\"90\",\"91\",\"92\",\"93\",\"94\",\"95\",\"96\",\"97\",\"98\",\"99\",\"100\",\"101\",\"102\",\"103\",\"104\",\"105\",\"106\",\"107\",\"108\",\"109\",\"110\",\"111\",\"112\",\"113\",\"114\",\"115\",\"116\",\"117\",\"118\",\"119\",\"120\",\"121\",\"122\",\"123\",\"124\",\"125\",\"126\",\"127\",\"128\",\"129\",\"130\",\"131\",\"132\",\"133\",\"134\",\"135\",\"136\",\"137\",\"138\",\"139\",\"140\",\"141\",\"142\",\"143\",\"144\",\"145\",\"146\",\"147\",\"148\",\"149\",\"150\",\"151\",\"152\",\"153\",\"154\",\"155\",\"156\",\"157\",\"158\",\"159\",\"160\",\"161\",\"162\",\"163\",\"164\",\"165\",\"166\",\"167\",\"168\",\"169\",\"170\",\"171\",\"172\",\"173\",\"174\",\"175\",\"176\",\"177\",\"178\",\"179\",\"180\",\"181\",\"182\",\"183\",\"184\",\"185\",\"186\",\"187\",\"188\",\"189\",\"190\",\"191\",\"192\",\"193\",\"194\",\"195\",\"196\",\"197\",\"198\",\"199\",\"200\",\"201\",\"202\",\"203\",\"204\",\"205\",\"206\",\"207\",\"208\",\"209\",\"210\",\"211\",\"212\",\"213\",\"214\",\"215\",\"216\"],[\"Baker\",\"Baker\",\"Baker\",\"Baker\",\"Baker\",\"Baker\",\"Benton\",\"Benton\",\"Benton\",\"Benton\",\"Benton\",\"Benton\",\"Clackamas\",\"Clackamas\",\"Clackamas\",\"Clackamas\",\"Clackamas\",\"Clackamas\",\"Clatsop\",\"Clatsop\",\"Clatsop\",\"Clatsop\",\"Clatsop\",\"Clatsop\",\"Columbia\",\"Columbia\",\"Columbia\",\"Columbia\",\"Columbia\",\"Columbia\",\"Coos\",\"Coos\",\"Coos\",\"Coos\",\"Coos\",\"Coos\",\"Crook\",\"Crook\",\"Crook\",\"Crook\",\"Crook\",\"Crook\",\"Curry\",\"Curry\",\"Curry\",\"Curry\",\"Curry\",\"Curry\",\"Deschutes\",\"Deschutes\",\"Deschutes\",\"Deschutes\",\"Deschutes\",\"Deschutes\",\"Douglas\",\"Douglas\",\"Douglas\",\"Douglas\",\"Douglas\",\"Douglas\",\"Gilliam\",\"Gilliam\",\"Gilliam\",\"Gilliam\",\"Gilliam\",\"Gilliam\",\"Grant\",\"Grant\",\"Grant\",\"Grant\",\"Grant\",\"Grant\",\"Harney\",\"Harney\",\"Harney\",\"Harney\",\"Harney\",\"Harney\",\"Hood River\",\"Hood River\",\"Hood River\",\"Hood River\",\"Hood River\",\"Hood River\",\"Jackson\",\"Jackson\",\"Jackson\",\"Jackson\",\"Jackson\",\"Jackson\",\"Jefferson\",\"Jefferson\",\"Jefferson\",\"Jefferson\",\"Jefferson\",\"Jefferson\",\"Josephine\",\"Josephine\",\"Josephine\",\"Josephine\",\"Josephine\",\"Josephine\",\"Klamath\",\"Klamath\",\"Klamath\",\"Klamath\",\"Klamath\",\"Klamath\",\"Lake\",\"Lake\",\"Lake\",\"Lake\",\"Lake\",\"Lake\",\"Lane\",\"Lane\",\"Lane\",\"Lane\",\"Lane\",\"Lane\",\"Lincoln\",\"Lincoln\",\"Lincoln\",\"Lincoln\",\"Lincoln\",\"Lincoln\",\"Linn\",\"Linn\",\"Linn\",\"Linn\",\"Linn\",\"Linn\",\"Malheur\",\"Malheur\",\"Malheur\",\"Malheur\",\"Malheur\",\"Malheur\",\"Marion\",\"Marion\",\"Marion\",\"Marion\",\"Marion\",\"Marion\",\"Morrow\",\"Morrow\",\"Morrow\",\"Morrow\",\"Morrow\",\"Morrow\",\"Multnomah\",\"Multnomah\",\"Multnomah\",\"Multnomah\",\"Multnomah\",\"Multnomah\",\"Polk\",\"Polk\",\"Polk\",\"Polk\",\"Polk\",\"Polk\",\"Sherman\",\"Sherman\",\"Sherman\",\"Sherman\",\"Sherman\",\"Sherman\",\"Tillamook\",\"Tillamook\",\"Tillamook\",\"Tillamook\",\"Tillamook\",\"Tillamook\",\"Umatilla\",\"Umatilla\",\"Umatilla\",\"Umatilla\",\"Umatilla\",\"Umatilla\",\"Union\",\"Union\",\"Union\",\"Union\",\"Union\",\"Union\",\"Wallowa\",\"Wallowa\",\"Wallowa\",\"Wallowa\",\"Wallowa\",\"Wallowa\",\"Wasco\",\"Wasco\",\"Wasco\",\"Wasco\",\"Wasco\",\"Wasco\",\"Washington\",\"Washington\",\"Washington\",\"Washington\",\"Washington\",\"Washington\",\"Wheeler\",\"Wheeler\",\"Wheeler\",\"Wheeler\",\"Wheeler\",\"Wheeler\",\"Yamhill\",\"Yamhill\",\"Yamhill\",\"Yamhill\",\"Yamhill\",\"Yamhill\"],[2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022,2017,2018,2019,2020,2021,2022],[2149298.37,2393131.82,2473484.01,2914146.78,3103697.13,3204323.65,10353698.08,10790397.63,11372027.38,12729770.75,13612879.69,14156857.45,52082749.63,60665174.41,64579809.7,75843692.9,78276590.78,78111015.71,10252090.26,11593184.63,12472465.3,13937463.25,15188413.81,15263240.12,9758572.74,11052641.1,11750414.74,14010182.58,13559381.46,13619220.36,8125347.06,9386042.96,9811156.33,11464453.48,12770724.39,13259919.16,2514346.65,2744654.35,3245327.9,3509119,3636814.67,3989331.39,2261446.86,2762541.59,3043452.99,3456099.12,3940460.02,4183134.54,35468959.37,41676355.37,45389638.16,53475235.18,59342605.74,62360132.59,11237944.48,12818118.16,13448917.78,16038247.08,17344966.72,17847312.48,222588.76,260369.03,282010.86,328008.13,310369.14,361775.35,851228.77,924235.19,966655.04,1179537.96,1279932.02,1297517.35,766866.51,826894.64,962348.9,1180079.13,1299198.22,1265412.59,4791639.69,5476098.1,5687100.4,6227844.34,6659688.66,6511751,23455185.56,26489164.17,28834417.52,33411629.24,35676682.77,37033642.81,1904483.49,2112013.52,2206929.35,2691485.37,2811281.37,2845692.97,10059332.42,11487072.42,12661571.23,15156234.27,16134062.42,15974572,6828657.86,7757606.1,8157022.45,9901379.13,10464262.84,10604708.81,914956.25,1023670.08,1166741.56,1353201.34,1394937.42,1434488.21,46949112.96,53401208.57,56024585.48,62926959.62,66236119.71,67902013.45,10612905.89,12288698.21,12818761.46,14159328.8,15989579.19,15997182.56,9717356.58,12403295.93,13614364.77,16248553.18,16640722.5,16796309,2286208.88,2505322.73,2702441.72,3154881.01,3420415.14,3856943.14,32252108.57,36436274.93,38929037.5,46217965.61,49193863.3,50706862.52,540821.38,627523.44,659206.6,806396.9,953745.17,1152463.51,155646776.02,173638975.39,180872040.88,178978736.41,191001210.58,201939882.08,7846063.06,9146331.66,9889304.43,10852564,11527781.62,11845964.74,126512.16,152658.52,151971.37,253874.12,289470.19,307648.33,4701231.03,5449760.83,5835075.87,6933845.85,7623841.59,7470184.86,11601740.93,13600551.99,14197968.61,17386709.83,17767079.41,18143429.9,2656560.27,3037771.13,3221082.07,3756087.37,3864463.54,3910980.91,1027069.62,1146491.09,1221648.03,1465838.71,1567625.7,1584368.97,4703904.63,5178103.19,5554441.46,6016103.58,6489393.28,6533986.59,73044045.35,84219462.36,89758164.19,102870342.57,108381424.34,112113934.89,120585.76,139994.8,147224.01,176070.34,176020.11,184790.94,9533488.2,10781374.35,11900164.39,14880589.58,15268384.99,15420367.89]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>County<\\/th>\\n      <th>Year<\\/th>\\n      <th>Total.Sales<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"columnDefs\":[{\"className\":\"dt-right\",\"targets\":[2,3]},{\"orderable\":false,\"targets\":0}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/htmlwidgets-1.6.2/htmlwidgets.js\"></script>\n<link href=\"../../site_libs/datatables-css-0.0.0/datatables-crosstalk.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/datatables-binding-0.27/datatables.js\"></script>\n<script src=\"../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js\"></script>\n<link href=\"../../site_libs/dt-core-1.12.1/css/jquery.dataTables.min.css\" rel=\"stylesheet\" />\n<link href=\"../../site_libs/dt-core-1.12.1/css/jquery.dataTables.extra.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/dt-core-1.12.1/js/jquery.dataTables.min.js\"></script>\n<link href=\"../../site_libs/crosstalk-1.2.0/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/crosstalk-1.2.0/js/crosstalk.min.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}